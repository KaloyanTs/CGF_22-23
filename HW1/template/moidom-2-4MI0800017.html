<!DOCTYPE html>

<!-- Калоян Цветков, група 2, ф.н. 4MI0800017 -->

<html>

<head>
	<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
	<script src="three.min.js"></script>
	<script src="OrbitControls.js"></script>
</head>

<body>
	<script>
		const FN = '4MI0800017'; // факултетен номер 
	</script>

	<script src="init.js"></script>

	<script>

		// 1. преименувайте файла на moidom-g-fn.html
		//    g=номер на група, а fn=факултетен номер
		//
		// 2. сменете стойността на константата FN да
		//    е факултетния номер, за да се генерират
		//    сцената, земята и контурът на къщата ви
		//
		// 3. едва тогава почвайте да строите стените
		//    и да добавяте исканите обекти по стаите
		//
		// 4. в init.js се прави глобален обект scene
		//    и в него трябва да сложите обектите си!
		//
		// 5. кубът по-долу е само за пример как може
		//    да се слагат обекти, които правят сянка

		function wall(from, to, height, thickness,color) {
			var length = Math.sqrt((from[0] - to[0]) * (from[0] - to[0]) + (from[1] - to[1]) * (from[1] - to[1]));
			var geometry = new THREE.BoxGeometry(length, height, thickness);
			var material = new THREE.MeshPhongMaterial({color:color});
			var w = new THREE.Mesh(geometry, material);
			w.rotation.y = Math.atan((from[1] - to[1]) / (from[0] - to[0]));
			w.position.set((from[0] + to[0]) / 2, height / 2, -(from[1] + to[1]) / 2);
			w.castShadow = true;
			w.receiveShadow = true;
			return w;
		}

		var geometry = new THREE.BoxGeometry(1, 1, 1),
			material = new THREE.MeshPhongMaterial({ color: 'crimson', shininess: 100 });

		var cube = new THREE.Mesh(geometry, material);
		cube.position.set(0, .5, 0);
		cube.receiveShadow = true;
		cube.castShadow = true;

		scene.add(cube);

		const wallThickness=.2;
		const wallColor='salmon';

		scene.add(wall([3, -7-wallThickness/2], [3, -1-wallThickness/2], 3, wallThickness,wallColor));
		scene.add(wall([3-wallThickness/2, -7], [-4-wallThickness/2, -7], 3, wallThickness,wallColor));
		scene.add(wall([-4, -7+wallThickness/2], [-4, 5+wallThickness/2], 3, wallThickness,wallColor));
		scene.add(wall([-4+wallThickness/2,5], [9+wallThickness/2, 5], 3, wallThickness,wallColor));
		scene.add(wall([9, 5-wallThickness/2], [9, -1-wallThickness/2], 3, wallThickness,wallColor));
		scene.add(wall([9-wallThickness/2, -1], [3-wallThickness/2, -1], 3, wallThickness,wallColor));

	</script>

</body>

</html>